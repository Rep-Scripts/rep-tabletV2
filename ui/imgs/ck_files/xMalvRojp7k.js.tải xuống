;/*FB_PKG_DELIM*/

__d("LSOnMessageStatusChange.nop",["MWChatInteraction.bs","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e,f,g,h,i){if(f!=null){a=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").s2sKey(f));a!=null&&d("MWChatInteraction.bs").addMarkerPoint(a,"received_successful_server_ack")}return b("Promise").resolve()}g["default"]=a}),98);
__d("LSReplaceOptimsiticMessage",["LSOnMessageStatusChange.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(d){return c.nop(b("LSOnMessageStatusChange.nop"),e,a[0],a[1],c.i64.cast([0,60]),e)},function(b){return c.fe(c.ftr(c.db.table(12).fetch([[[a[0]]],"optimistic"]),function(b){return b.offlineThreadingId===a[0]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(b){var d=b.update;b.item;return d({messageId:a[1],authorityLevel:c.i64.cast([0,60]),sendStatus:c.i64.cast([0,2]),sendStatusV2:c.i64.cast([0,2])})})}])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);